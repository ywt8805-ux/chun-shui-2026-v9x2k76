<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¾†è‡ªè³‡å·¥ç³»å­¸å¦¹çš„é©šå–œ ğŸ§‹</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #222;
            --table-color: #e8d5b5;
            --tea-color: #d2a679;
            --neon-white: #fffce1;
            --neon-red: #ff3131;
        }

        body {
            margin: 0; background-color: var(--bg-dark);
            display: flex; justify-content: center; align-items: center;
            height: 100vh; font-family: "Microsoft JhengHei", sans-serif;
            overflow: hidden; transition: background-color 1s;
        }

        .stage { display: none; flex-direction: column; align-items: center; width: 100%; position: relative; }
        .active { display: flex; }

        /* éšæ®µ 1: é›ªå…‹æ¯ */
        .shaker {
        width: 90px; /* ç¨å¾®èª¿æ•´å¯¬åº¦ */
        height: 140px; /* ä¸»è¦æ¯èº«é«˜åº¦ */
        position: relative;
        cursor: pointer;
        /* æ¯èº«ï¼šæ¨¡æ“¬ä¸é½é‹¼é‡‘å±¬åå…‰ */
        background: linear-gradient(to right, 
            #e0e0e0 0%, #ffffff 25%, #c0c0c0 50%, #ffffff 75%, #e0e0e0 100%);
        /* æ¯èº«åº•éƒ¨åœ“è§’ */
        border-radius: 0 0 25px 25px;
        /* é‡‘å±¬è³ªæ„Ÿé™°å½± */
        box-shadow: 
            inset 0 -5px 10px rgba(0,0,0,0.2), /* åº•éƒ¨å…§é™°å½± */
            2px 5px 10px rgba(0,0,0,0.3); /* æ•´é«”å¤–é™°å½± */
        margin-top: 50px; /* ç‚ºä¸Šæ–¹éƒ¨ä»¶ç•™å‡ºç©ºé–“ */
    }

    /* éæ¿¾å±¤ (ä¸­é–“éƒ¨åˆ†) */
    .shaker::before {
        content: '';
        position: absolute;
        top: -30px; /* ä½æ–¼æ¯èº«ä¸Šæ–¹ */
        left: 5%;
        width: 90%;
        height: 30px;
        /* éæ¿¾å±¤çš„é‡‘å±¬è³ªæ„Ÿï¼Œå¸¶ä¸€é»å¼§åº¦å…‰æ¾¤ */
        background: linear-gradient(to right, 
            #d0d0d0 0%, #ffffff 30%, #b0b0b0 50%, #ffffff 70%, #d0d0d0 100%);
        /* é ‚éƒ¨å’Œåº•éƒ¨çš„é‡‘å±¬é‚Šç·£ */
        border-top: 2px solid #f0f0f0;
        border-bottom: 2px solid #a0a0a0;
        /* ç•¥å¾®çš„åœ“è§’ä½¿å…¶èˆ‡æ¯èº«éŠœæ¥è‡ªç„¶ */
        border-radius: 5px;
    }

    /* æ¯è“‹ (æœ€ä¸Šæ–¹éƒ¨åˆ†) */
    .shaker::after {
        content: '';
        position: absolute;
        top: -65px; /* ä½æ–¼éæ¿¾å±¤ä¸Šæ–¹ */
        left: 20%;
        width: 60%;
        height: 35px;
        /* æ¯è“‹çš„é‡‘å±¬è³ªæ„Ÿï¼Œé ‚éƒ¨è¼ƒåœ“æ½¤ */
        background: linear-gradient(to right, 
            #e0e0e0 0%, #ffffff 40%, #c0c0c0 50%, #ffffff 60%, #e0e0e0 100%);
        /* é ‚éƒ¨å¤§åœ“è§’ï¼Œæ¨¡æ“¬ç…§ç‰‡ä¸­çš„é€ å‹ */
        border-radius: 15px 15px 5px 5px;
        /* é ‚éƒ¨é«˜å…‰å’Œé‚Šç·£ */
        box-shadow: inset 0 3px 5px rgba(255,255,255,0.8);
        border-bottom: 2px solid #909090; /* èˆ‡éæ¿¾å±¤çš„æ¥ç¸« */
    }

    .shake-anim { animation: shakeEffect 0.5s infinite; }
    @keyframes shakeEffect {
        0%, 100% { transform: rotate(0); }
        25% { transform: rotate(15deg) translate(5px, -5px); }
        75% { transform: rotate(-15deg) translate(-5px, 5px); }
    }

        /* éšæ®µ 2: éœ“è™¹çå¥¶ (åƒè€ƒå¦³çš„ç…§ç‰‡ 20260203_183108.jpg) */
        .neon-cup {
        width: 100px;
        height: 260px; /* è®“æ¯å­è®Šé«˜è®Šä¿®é•· */
        position: relative;
        cursor: pointer;
        /* å¤šé‡èƒŒæ™¯åœ–å±¤ä¾†æ¨¡æ“¬ï¼š
           1. ç»ç’ƒæ¯çš„ç›´æ¢ç´‹ç† (fluted glass)
           2. å¥¶èŒ¶çš„é¡è‰²æ¼¸å±¤
           3. æ¯åº•çš„çç  (ç”¨åœ“å½¢æ¼¸å±¤æ¨¡æ“¬)
        */
        background: 
            /* ç›´æ¢ç´‹ç† */
            repeating-linear-gradient(to right, rgba(255,255,255,0.3) 0px, transparent 2px, transparent 18px, rgba(255,255,255,0.3) 20px),
            /* åº•éƒ¨çç  */
            radial-gradient(circle at 30% 85%, #332211 5px, transparent 6px),
            radial-gradient(circle at 70% 88%, #332211 6px, transparent 7px),
            radial-gradient(circle at 50% 82%, #332211 5px, transparent 6px),
            radial-gradient(circle at 20% 92%, #332211 4px, transparent 5px),
            radial-gradient(circle at 80% 90%, #332211 5px, transparent 6px),
            /* å¥¶èŒ¶é¡è‰² */
            linear-gradient(to bottom, #f0e0d0 0%, #e8d5b5 20%, #d2a679 85%, #c09060 100%);
        
        /* æ¯å£çš„åœ“è§’ */
        border-radius: 5px 5px 30% 30%;
        /* ç»ç’ƒçš„å…‰æ¾¤æ„Ÿå’Œé‚Šç·£ */
        box-shadow: 
            inset 0 5px 10px rgba(255,255,255,0.4), /* æ¯å£å…§å´å…‰ */
            inset 5px 0 10px rgba(255,255,255,0.2), /* å·¦å´å…‰ */
            inset -5px 0 10px rgba(255,255,255,0.2), /* å³å´å…‰ */
            0 10px 20px rgba(0,0,0,0.2); /* æ•´é«”é™°å½± */
            
        /* ç§»é™¤åŸæœ¬çš„éœ“è™¹é‚Šæ¡†å’Œ clip-path */
        border: none;
        clip-path: none;
    }

    /* æ¯å­çš„åº•åº§ */
    .neon-cup::after {
        content: '';
        position: absolute;
        bottom: -25px;
        left: 10%;
        width: 80%;
        height: 30px;
        /* ç»ç’ƒåº•åº§çš„é¡è‰²å’Œå…‰æ¾¤ */
        background: linear-gradient(to right, rgba(255,255,255,0.4), rgba(255,255,255,0.1), rgba(255,255,255,0.4));
        border-radius: 0 0 50% 50% / 0 0 100% 100%; /* å¼§å½¢åº•åº§ */
        box-shadow: 0 5px 10px rgba(0,0,0,0.2);
        z-index: -1; /* æ”¾åœ¨æ¯èº«å¾Œé¢ */
    }

    .cup-logo {
        width: 30px;
        height: 30px;
        /* æ›´æ¥è¿‘ç…§ç‰‡çš„æ·±ç´…è‰² */
        background: #c70000;
        position: absolute;
        top: 20%;
        left: 50%;
        transform: translateX(-50%); /* è®“ Logo æ°´å¹³å±…ä¸­ */
        /* ç§»é™¤éœ“è™¹ç™¼å…‰ï¼Œæ”¹æˆä¸€é»é»ç«‹é«”æ„Ÿ */
        box-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 9px;
        /* ä½¿ç”¨æ›¸æ³•å­—é«”æœƒæ›´åƒ */
        font-family: 'Noto Serif TC', serif;
        font-weight: bold;
        color: white;
        border: 1px solid rgba(255,255,255,0.3);
    }

   /* éšæ®µ 3: çœŸå¯¦æ‰“ç¿»ç¾å ´ (åƒè€ƒå¦³æä¾›çš„ç…§ç‰‡ image_10.png) */
.spill-bg { 
    /* æ¨¡æ“¬æœ¨æ¡Œçš„é¡è‰² */
    background-color: #8b5a2b !important; 
    /* å¯ä»¥åŠ ä¸Šæœ¨ç´‹åœ–ç‰‡èƒŒæ™¯æœƒæ›´åƒ */
    /* background-image: url('wood-texture.jpg'); */
    background-size: cover;
    transition: background-color 0.5s ease;
}

/* å¥¶èŒ¶ç˜ */
.puddle {
    width: 350px; height: 220px;
    /* å¥¶èŒ¶çš„é¡è‰²æ¼¸å±¤å’Œå…‰æ¾¤ */
    background: linear-gradient(135deg, #e8d5b5 0%, #d2a679 60%, #c09060 100%);
    /* ä¸è¦å‰‡çš„å½¢ç‹€ï¼Œæ¨¡æ“¬æ¶²é«”æ“´æ•£ */
    border-radius: 60% 40% 70% 30% / 50% 70% 30% 50%;
    position: absolute;
    display: flex; justify-content: center; align-items: center;
    /* é‚Šç·£çš„æ¶²é«”å¼µåŠ›æ„Ÿ */
    box-shadow: inset 0 0 20px rgba(0,0,0,0.1), 0 5px 15px rgba(0,0,0,0.2);
    /* åˆå§‹ç‹€æ…‹ï¼šç¸®å°ä¸”é€æ˜ */
    transform: scale(0); opacity: 0;
    animation: spillExpand 1.2s cubic-bezier(0.25, 0.8, 0.25, 1) forwards;
}
@keyframes spillExpand {
    0% { transform: scale(0); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

/* çç  (æ›´å¯«å¯¦) */
.pearl {
    width: 18px; height: 18px;
    /* æ·±é»‘è‰²å¸¶å…‰æ¾¤ */
    background: radial-gradient(circle at 30% 30%, #555 0%, #1a1a1a 70%);
    border-radius: 50%; position: absolute;
    /* çç çš„é™°å½± */
    box-shadow: 1px 1px 3px rgba(0,0,0,0.4);
}

/* å†°å¡Š (æ–¹å½¢ä¸”é€æ˜) */
.ice {
    width: 24px; height: 24px;
    /* é€æ˜çš„å†°å¡Šè³ªæ„Ÿ */
    background: rgba(255,255,255,0.3);
    border-radius: 3px; position: absolute;
    /* å†°å¡Šçš„é‚Šç·£åå…‰ */
    border: 1px solid rgba(255,255,255,0.6);
    box-shadow: inset 0 0 5px rgba(255,255,255,0.5), 1px 1px 3px rgba(0,0,0,0.2);
    /* éš¨æ©Ÿæ—‹è½‰è§’åº¦ */
    transform: rotate(calc(var(--r, 0) * 1deg));
}

/* å‚¾å€’çš„æ¯å­ (åœ¨æ‰“ç¿»éšæ®µé¡¯ç¤º) */
.spilled-cup {
    position: absolute;
    top: -80px; left: 50%;
    transform: translateX(-50%) rotate(70deg); /* å‚¾å€’çš„è§’åº¦ */
    opacity: 0;
    animation: cupFall 1s cubic-bezier(0.25, 0.8, 0.25, 1) forwards 0.2s;
    z-index: 5;
}
@keyframes cupFall {
    0% { top: -150px; opacity: 0; }
    100% { top: -80px; opacity: 1; }
}

        /* éšæ®µ 4: æŠ¹å¸ƒæ“¦æ‹­ */
        .rag {
    width: 80px; height: 60px; /* ç¨å¾®å°ä¸€é»æ¯”è¼ƒç²¾ç·» */
    background: #fff; border-radius: 5px;
    box-shadow: 0 0 15px rgba(0,0,0,0.3); 
    position: absolute; 
    cursor: pointer;
    display: flex; align-items: center; justify-content: center; 
    font-weight: bold; color: #999;
    z-index: 100;
    /* --- ä¿®æ”¹é‡é»ï¼šå›ºå®šåœ¨å³ä¸‹è§’ --- */
    bottom: 25px;
    right: 25px;
    transition: all 0.5s ease;
}

.rag:hover {
    transform: scale(1.1); /* æ»‘é¼ ç§»ä¸Šå»ç¨å¾®æ”¾å¤§ */
    background: #f0f0f0;
}
        .calligraphy {
            font-family: 'Noto Serif TC', serif; font-size: 4.5rem;
            background: linear-gradient(to bottom, #ffd700, #ff8c00);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            opacity: 0; transform: scale(0.5); filter: drop-shadow(0 0 10px rgba(0,0,0,0.2));
        }
        .fly-in { animation: flyInCalligraphy 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
        @keyframes flyInCalligraphy { to { opacity: 1; transform: scale(1); } }

        .hint { margin-top: 30px; color: #888; font-size: 0.85rem; animation: blink 1.5s infinite; }
        @keyframes blink { 0%, 100% { opacity: 0.4; } 50% { opacity: 1; } }
    </style>
</head>
<body>

    <div id="stage1" class="stage active" onclick="startShaking()">
        <div class="shaker" id="shakerObj"></div>
        <p class="hint">ï¼ˆé»æ“Šé›ªå…‹æ¯é–‹å§‹æ–èŒ¶ï¼‰</p>
    </div>

    <div id="stage2" class="stage" onclick="triggerSpill()">
        <div class="neon-cup">
            <div class="cup-logo">æ˜¥æ°´</div>
        </div>
        <p class="hint">ï¼ˆçå¥¶å¥½äº†ï¼é»æ“Šå“åšä¸€ä¸‹...ï¼‰</p>
    </div>

    <div id="stage3" class="stage">
    <div class="puddle">
        <div class="neon-cup spilled-cup">
            <div class="cup-logo">æ˜¥æ°´</div>
        </div>

        <div class="pearl" style="top:20%; left:30%;"></div>
        <div class="pearl" style="top:35%; left:15%;"></div>
        <div class="pearl" style="top:50%; left:25%;"></div>
        <div class="pearl" style="bottom:25%; right:30%;"></div>
        <div class="pearl" style="bottom:35%; right:15%;"></div>
        <div class="pearl" style="top:60%; right:35%;"></div>
        
        <div class="ice" style="top:25%; left:20%; --r: 15;"></div>
        <div class="ice" style="bottom:30%; left:35%; --r: -10;"></div>
        <div class="ice" style="top:45%; right:20%; --r: 30;"></div>
        <div class="ice" style="bottom:40%; right:25%; --r: -5;"></div>
            <div class="card">
                <p>å¤¥ä¼´å€‘ã€åº—é•·ï¼š</p>
                <p>è¬è¬å¤§å®¶é€™ä¸€å€‹å¤šæœˆçš„ç…§é¡§ï¼Œè®“æˆ‘å¾æ–°æ‰‹æ…¢æ…¢ç†Ÿæ‚‰ã€‚</p>
                <p>é›–ç„¶ä¸­é–“æœ‰å¤±èª¤ï¼Œä½†è¬è¬å¤§å®¶é¡˜æ„æ•™æˆ‘ï¼ŒçœŸçš„å¾ˆæº«æš–ï¼</p>
                <p><b>æˆ‘è¦å…ˆå›é€¢ç”²è³‡å·¥ç·´ç­‰äº†ï¼Œå¤§å®¶æš‘å‡è¦‹ï¼</b></p>
            </div>
        </div>
        <div class="rag" id="rag" onclick="startWiping()">æŠ¹å¸ƒ</div>
        <p class="hint" style="position:absolute; bottom:10%;">ï¼ˆé»æ“ŠæŠ¹å¸ƒæ”¶æ‹¾æ¡Œé¢ï¼‰</p>
    </div>

    <div id="stage4" class="stage">
        <h1 id="finalText" class="calligraphy">æ–°å¹´å¿«æ¨‚</h1>
        <p style="color:#5d4037; margin-top:20px; font-weight:bold;">è³‡å·¥ç³»å­¸å¦¹ [å¦³çš„åå­—] æ•¬ä¸Š</p>
    </div>

    <script>
        function startShaking() {
            const shaker = document.getElementById('shakerObj');
            shaker.classList.add('shake-anim');
            setTimeout(() => {
                document.getElementById('stage1').classList.remove('active');
                document.getElementById('stage2').classList.add('active');
            }, 1500);
        }

       function triggerSpill() {
    // 1. å…ˆè®“éœ“è™¹æ¯æ¶ˆå¤±
    const stage2 = document.getElementById('stage2');
    stage2.style.transition = 'opacity 0.3s ease';
    stage2.style.opacity = '0';

    setTimeout(() => {
        // 2. åˆ‡æ›èƒŒæ™¯é¡è‰²å’Œéšæ®µ
        document.body.classList.add('spill-bg');
        stage2.classList.remove('active');
        document.getElementById('stage3').classList.add('active');
    }, 300);
}

        function startWiping() {
    const rag = document.getElementById('rag');
    
    // æŠ¹å¸ƒå¾€ä¸­é–“å¤§é¢ç©æ“¦æ‹­çš„å‹•ä½œ
    rag.style.transform = "translate(-200px, -150px) rotate(-45deg) scale(3)";
    rag.style.opacity = "0";
    
    // è®“åŸæœ¬çš„å¥¶èŒ¶ç˜å’Œå¡ç‰‡ä¸€èµ·è®Šæ·¡æ¶ˆå¤±
    document.querySelector('.puddle').style.transition = "opacity 1s ease";
    document.querySelector('.puddle').style.opacity = "0";
    
    setTimeout(() => {
        document.getElementById('stage3').classList.remove('active');
        document.getElementById('stage4').classList.add('active');
        document.getElementById('finalText').classList.add('fly-in');
    }, 1200);
}
    </script>
</body>
</html>