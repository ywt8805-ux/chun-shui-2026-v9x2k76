<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¾†è‡ªè³‡å·¥ç³»å­¸å¦¹çš„é©šå–œ ğŸ§‹</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #222;
            --table-color: #e8d5b5;
            --tea-color: #d2a679;
            --neon-white: #fffce1;
            --neon-red: #ff3131;
        }

        body {
            margin: 0; background-color: var(--bg-dark);
            display: flex; justify-content: center; align-items: center;
            height: 100vh; font-family: "Microsoft JhengHei", sans-serif;
            overflow: hidden; transition: background-color 1s;
        }

        .stage { display: none; flex-direction: column; align-items: center; width: 100%; position: relative;}
        .active { display: flex; }

        /* éšæ®µ 1: é›ªå…‹æ¯ */
        .shaker {
        width: 90px; /* ç¨å¾®èª¿æ•´å¯¬åº¦ */
        height: 140px; /* ä¸»è¦æ¯èº«é«˜åº¦ */
        position: relative;
        cursor: pointer;
        /* æ¯èº«ï¼šæ¨¡æ“¬ä¸é½é‹¼é‡‘å±¬åå…‰ */
        background: linear-gradient(to right, 
            #e0e0e0 0%, #ffffff 25%, #c0c0c0 50%, #ffffff 75%, #e0e0e0 100%);
        /* æ¯èº«åº•éƒ¨åœ“è§’ */
        border-radius: 0 0 25px 25px;
        /* é‡‘å±¬è³ªæ„Ÿé™°å½± */
        box-shadow: 
            inset 0 -5px 10px rgba(0,0,0,0.2), /* åº•éƒ¨å…§é™°å½± */
            2px 5px 10px rgba(0,0,0,0.3); /* æ•´é«”å¤–é™°å½± */
        margin-top: 50px; /* ç‚ºä¸Šæ–¹éƒ¨ä»¶ç•™å‡ºç©ºé–“ */
    }

    /* éæ¿¾å±¤ (ä¸­é–“éƒ¨åˆ†) */
    .shaker::before {
        content: '';
        position: absolute;
        top: -30px; /* ä½æ–¼æ¯èº«ä¸Šæ–¹ */
        left: 5%;
        width: 90%;
        height: 30px;
        /* éæ¿¾å±¤çš„é‡‘å±¬è³ªæ„Ÿï¼Œå¸¶ä¸€é»å¼§åº¦å…‰æ¾¤ */
        background: linear-gradient(to right, 
            #d0d0d0 0%, #ffffff 30%, #b0b0b0 50%, #ffffff 70%, #d0d0d0 100%);
        /* é ‚éƒ¨å’Œåº•éƒ¨çš„é‡‘å±¬é‚Šç·£ */
        border-top: 2px solid #f0f0f0;
        border-bottom: 2px solid #a0a0a0;
        /* ç•¥å¾®çš„åœ“è§’ä½¿å…¶èˆ‡æ¯èº«éŠœæ¥è‡ªç„¶ */
        border-radius: 5px;
    }

    /* æ¯è“‹ (æœ€ä¸Šæ–¹éƒ¨åˆ†) */
    .shaker::after {
        content: '';
        position: absolute;
        top: -65px; /* ä½æ–¼éæ¿¾å±¤ä¸Šæ–¹ */
        left: 20%;
        width: 60%;
        height: 35px;
        /* æ¯è“‹çš„é‡‘å±¬è³ªæ„Ÿï¼Œé ‚éƒ¨è¼ƒåœ“æ½¤ */
        background: linear-gradient(to right, 
            #e0e0e0 0%, #ffffff 40%, #c0c0c0 50%, #ffffff 60%, #e0e0e0 100%);
        /* é ‚éƒ¨å¤§åœ“è§’ï¼Œæ¨¡æ“¬ç…§ç‰‡ä¸­çš„é€ å‹ */
        border-radius: 15px 15px 5px 5px;
        /* é ‚éƒ¨é«˜å…‰å’Œé‚Šç·£ */
        box-shadow: inset 0 3px 5px rgba(255,255,255,0.8);
        border-bottom: 2px solid #909090; /* èˆ‡éæ¿¾å±¤çš„æ¥ç¸« */
    }

    .shake-anim { animation: shakeEffect 0.5s infinite; }
    @keyframes shakeEffect {
        0%, 100% { transform: rotate(0); }
        25% { transform: rotate(15deg) translate(5px, -5px); }
        75% { transform: rotate(-15deg) translate(-5px, 5px); }
    }

        /* éšæ®µ 2: éœ“è™¹çå¥¶ (åƒè€ƒå¦³çš„ç…§ç‰‡ 20260203_183108.jpg) */
        .neon-cup {
        width: 100px;
        height: 260px; /* è®“æ¯å­è®Šé«˜è®Šä¿®é•· */
        position: relative;
        cursor: pointer;
        /* å¤šé‡èƒŒæ™¯åœ–å±¤ä¾†æ¨¡æ“¬ï¼š
           1. ç»ç’ƒæ¯çš„ç›´æ¢ç´‹ç† (fluted glass)
           2. å¥¶èŒ¶çš„é¡è‰²æ¼¸å±¤
           3. æ¯åº•çš„çç  (ç”¨åœ“å½¢æ¼¸å±¤æ¨¡æ“¬)
        */
        background: 
            /* ç›´æ¢ç´‹ç† */
            repeating-linear-gradient(to right, rgba(255,255,255,0.3) 0px, transparent 2px, transparent 18px, rgba(255,255,255,0.3) 20px),
            /* åº•éƒ¨çç  */
            radial-gradient(circle at 30% 85%, #332211 5px, transparent 6px),
            radial-gradient(circle at 70% 88%, #332211 6px, transparent 7px),
            radial-gradient(circle at 50% 82%, #332211 5px, transparent 6px),
            radial-gradient(circle at 20% 92%, #332211 4px, transparent 5px),
            radial-gradient(circle at 80% 90%, #332211 5px, transparent 6px),
            /* å¥¶èŒ¶é¡è‰² */
            linear-gradient(to bottom, #f0e0d0 0%, #e8d5b5 20%, #d2a679 85%, #c09060 100%);
        
        /* æ¯å£çš„åœ“è§’ */
        border-radius: 5px 5px 30% 30%;
        /* ç»ç’ƒçš„å…‰æ¾¤æ„Ÿå’Œé‚Šç·£ */
        box-shadow: 
            inset 0 5px 10px rgba(255,255,255,0.4), /* æ¯å£å…§å´å…‰ */
            inset 5px 0 10px rgba(255,255,255,0.2), /* å·¦å´å…‰ */
            inset -5px 0 10px rgba(255,255,255,0.2), /* å³å´å…‰ */
            0 10px 20px rgba(0,0,0,0.2); /* æ•´é«”é™°å½± */
            
        /* ç§»é™¤åŸæœ¬çš„éœ“è™¹é‚Šæ¡†å’Œ clip-path */
        border: none;
        clip-path: none;
    }

    /* æ¯å­çš„åº•åº§ */
    .neon-cup::after {
        content: '';
        position: absolute;
        bottom: -25px;
        left: 10%;
        width: 80%;
        height: 30px;
        /* ç»ç’ƒåº•åº§çš„é¡è‰²å’Œå…‰æ¾¤ */
        background: linear-gradient(to right, rgba(255,255,255,0.4), rgba(255,255,255,0.1), rgba(255,255,255,0.4));
        border-radius: 0 0 50% 50% / 0 0 100% 100%; /* å¼§å½¢åº•åº§ */
        box-shadow: 0 5px 10px rgba(0,0,0,0.2);
        z-index: -1; /* æ”¾åœ¨æ¯èº«å¾Œé¢ */
    }

    .cup-logo {
        width: 30px;
        height: 30px;
        /* æ›´æ¥è¿‘ç…§ç‰‡çš„æ·±ç´…è‰² */
        background: #c70000;
        position: absolute;
        top: 20%;
        left: 50%;
        transform: translateX(-50%); /* è®“ Logo æ°´å¹³å±…ä¸­ */
        /* ç§»é™¤éœ“è™¹ç™¼å…‰ï¼Œæ”¹æˆä¸€é»é»ç«‹é«”æ„Ÿ */
        box-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 9px;
        /* ä½¿ç”¨æ›¸æ³•å­—é«”æœƒæ›´åƒ */
        font-family: 'Noto Serif TC', serif;
        font-weight: bold;
        color: white;
        border: 1px solid rgba(255,255,255,0.3);
    }

   /* éšæ®µ 3: çœŸå¯¦æ‰“ç¿»ç¾å ´ (åƒè€ƒå¦³æä¾›çš„ç…§ç‰‡ image_10.png) */
.spill-bg { 
    /* æ¨¡æ“¬æœ¨æ¡Œçš„é¡è‰² */
    background-color: #e2bd9a !important; 
    /* å¯ä»¥åŠ ä¸Šæœ¨ç´‹åœ–ç‰‡èƒŒæ™¯æœƒæ›´åƒ */
    /* background-image: url('wood-texture.jpg'); */
    background-size: cover;
    transition: background-color 0.5s ease;
}

/* 1. å¯«å¯¦çš„èŒ¶æ¹¯ (Puddle) */
.puddle {
    width: 380px; /* ç¨å¾®åŠ å¤§ä¸€é» */
    height: 240px;
    /* ä½¿ç”¨æ”¾å°„ç‹€æ¼¸å±¤ä¾†æ¨¡æ“¬æ¶²é«”çš„æ¿ƒæ·¡å’Œå…‰æ¾¤ */
    background: radial-gradient(ellipse at center, #e0c0a0 0%, #d2a679 50%, #b08060 100%);
    /* æ›´ä¸è¦å‰‡çš„å½¢ç‹€ï¼Œæ¨¡æ“¬æ¶²é«”æ½‘ç‘ */
    border-radius: 45% 55% 40% 60% / 55% 40% 60% 45%;
    position: relative; /* æ”¹ç‚º relativeï¼Œè®“è£¡é¢çš„æ–‡å­—å¯ä»¥çµ•å°å®šä½ */
    display: flex; justify-content: center; align-items: center;
    /* å¢åŠ æ¶²é«”çš„åšåº¦æ„Ÿå’Œé‚Šç·£æ¿•æ½¤çš„é™°å½± */
    box-shadow: 
        inset 0 5px 20px rgba(255,255,255,0.3), /* å…§éƒ¨é«˜å…‰ */
        0 5px 15px rgba(0,0,0,0.2); /* å¤–éƒ¨é™°å½± */
    /* åˆå§‹ç‹€æ…‹ï¼šç¸®å°ä¸”é€æ˜ */
    transform: scale(0); opacity: 0;
    animation: spillExpand 1.2s cubic-bezier(0.25, 0.8, 0.25, 1) forwards;
}
@keyframes spillExpand {
    0% { transform: scale(0); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

/* 2. æ–‡å­—ç›´æ¥åœ¨èŒ¶æ¹¯ä¸Š (Card) */
.card {
    /* ç§»é™¤ç™½è‰²èƒŒæ™¯å’Œé™°å½± */
    background: none;
    box-shadow: none;
    border-radius: 0;
    padding: 0;
    width: 75%;
    
    /* æ–‡å­—é¡è‰²æ”¹ç‚ºäº®ç±³è‰²ï¼Œä¸¦åŠ ä¸Šé™°å½±æé«˜å¯è®€æ€§ */
    color: #48473d;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.6);
    
    text-align: left; /* æ–‡å­—å±…ä¸­ */
    font-weight: bold;
    line-height: 1.0;
    z-index: 20; /* ç¢ºä¿æ–‡å­—åœ¨æœ€ä¸Šå±¤ */
    
    /* çµ•å°å®šä½åœ¨èŒ¶æ¹¯ä¸­å¤® */
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

/* 3. å‚¾å€’çš„æ¯å­ (Spilled Cup) */
.spilled-cup {
    /* ç¹¼æ‰¿åŸæœ¬éœ“è™¹æ¯çš„æ¨£å¼ï¼Œä½†ç§»é™¤é»æ“Šæ‰‹å‹¢ */
    cursor: default;
    /* çµ•å°å®šä½åœ¨ç•«é¢å·¦ä¸Šæ–¹ */
    position: absolute;
    top: -80px;
    left: 20px;
    /* é—œéµï¼šå‚¾å€’çš„è§’åº¦ */
    transform: rotate(60deg);
    z-index: 5; /* åœ¨èŒ¶æ¹¯ä¸Šé¢ï¼Œæ–‡å­—ä¸‹é¢ */
    opacity: 0; /* ä¸€é–‹å§‹éš±è— */
    /* æ¯å­æ‰è½çš„å‹•ç•« */
    animation: cupFall 0.8s ease-out forwards 0.3s; /* å»¶é² 0.3s é–‹å§‹ */
}

@keyframes cupFall {
    from { 
        top: -150px; 
        opacity: 0; 
        transform: rotate(0deg); 
    }
    to { 
        top: -80px; 
        opacity: 1; 
        transform: rotate(60deg); 
    }
}

/* èª¿æ•´çç å’Œå†°å¡Šçš„å±¤ç´šï¼Œè®“å®ƒå€‘åœ¨æ–‡å­—ä¸‹æ–¹ */
.pearl, .ice {
    z-index: 10;
    opacity: 0.8; /* ç¨å¾®é€æ˜ä¸€é»ï¼Œèå…¥èŒ¶æ¹¯ */
}

        /* éšæ®µ 4: æŠ¹å¸ƒæ“¦æ‹­ */
        .rag {
    width: 80px; height: 60px; /* ç¨å¾®å°ä¸€é»æ¯”è¼ƒç²¾ç·» */
    background: #fff; border-radius: 5px;
    box-shadow: 0 0 15px rgba(0,0,0,0.3); 
    position: absolute; 
    cursor: pointer;
    display: flex; align-items: center; justify-content: center; 
    font-weight: bold; color: #999;
    z-index: 100;
    /* --- ä¿®æ”¹é‡é»ï¼šå›ºå®šåœ¨å³ä¸‹è§’ --- */
    bottom: -100px;
    right: 25px;
    transition: all 0.5s ease;
}

.rag:hover {
    transform: scale(1.1); /* æ»‘é¼ ç§»ä¸Šå»ç¨å¾®æ”¾å¤§ */
    background: #f0f0f0;
}
.rag.scrubbing {
    /* åŸ·è¡Œæ“¦æ‹­å‹•ç•«ï¼Œæ™‚é–“èˆ‡èŒ¶æ¹¯æ¶ˆå¤±åŒæ­¥ (1.5s) */
    animation: ragScrubAndFly 1.5s ease-in-out forwards;
}
        .calligraphy {
            font-family: 'Noto Serif TC', serif; font-size: 4.5rem;
            background: linear-gradient(to bottom, #ff0000, #e3e1bd);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            opacity: 0; transform: scale(0.5); filter: drop-shadow(0 0 12px rgba(0,0,0,0.2));
        }
        .fly-in { animation: flyInCalligraphy 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
        @keyframes flyInCalligraphy { to { opacity: 1; transform: scale(1); } }

        .hint {
    /* çµ•å°å®šä½ */
    position: absolute!important;
    /* é—œéµä¿®æ”¹ï¼šç§»åˆ°é›¢åº•éƒ¨ 20px çš„ä½ç½® */
    bottom: -100px!important;
    left: 50%!important;
    transform: translateX(-50%)!important;
    
    width: 100%;
    text-align: center;
    font-size: 0.85rem;
    color: rgba(255, 252, 225, 0.5); /* æ·¡æ·¡çš„é¡è‰²ï¼Œä¸å¹²æ“¾æ„Ÿè¨€ */
    text-shadow: none; /* ç§»é™¤é™°å½±è®“å®ƒæ›´é‚Šç·£åŒ– */
    
    /* ä¿æŒé–ƒçˆå‹•ç•« */
    animation: blink 2s infinite;
    z-index: 50; /* ç¢ºä¿åœ¨æœ€ä¸Šå±¤ï¼Œä½†ä½ç½®ä¸é®æ“‹ */
    pointer-events: none;
}
        @keyframes blink { 0%, 100% { opacity: 0.4; } 50% { opacity: 1; } }
        @keyframes wipeOutEffect {
    0% { 
        transform: scale(1); 
        opacity: 1; 
        filter: blur(0px); /* ä¸€é–‹å§‹æ˜¯æ¸…æ™°çš„ */
    }
    100% { 
        transform: scale(0.1); /* ç¸®åˆ°å¹¾ä¹ä¸è¦‹ */
        opacity: 0; /* å®Œå…¨é€æ˜ */
        filter: blur(10px); /* åŠ ä¸€é»æ¨¡ç³Šæ„Ÿï¼Œæ›´æœ‰ã€Œæ“¦æ‰ã€çš„æ„Ÿè¦º */
    }
}

/* ç”¨ä¾†è§¸ç™¼èŒ¶æ¹¯æ¶ˆå¤±çš„ class */
.puddle.wiping-out {
    /* åŸ·è¡Œä¸Šé¢å®šç¾©çš„å‹•ç•«ï¼ŒæŒçºŒ 1.5 ç§’ */
    animation: wipeOutEffect 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    /* ç¢ºä¿è£¡é¢çš„å¡ç‰‡å’Œæ¯å­ä¸æœƒè·‘ç‰ˆ */
    transform-origin: center center;
}


/* å®šç¾©æŠ¹å¸ƒã€Œä¾†å›æ“¦æ‹­å¾Œé£›èµ°ã€çš„å‹•ä½œ */
@keyframes ragScrubAndFly {
    0% { transform: translate(0, 0) rotate(0); }
    20% { transform: translate(-120px, -60px) rotate(-30deg); } /* å¾€å·¦ä¸Šæ“¦ */
    40% { transform: translate(100px, 40px) rotate(30deg); }    /* å¾€å³ä¸‹æ“¦ */
    60% { transform: translate(-80px, 80px) rotate(-15deg); }   /* å¾€å·¦ä¸‹æ“¦ */
    100% { 
        transform: translate(500px, -500px) rotate(720deg) scale(0.5); /* æ—‹è½‰é£›å‡ºè¢å¹• */
        opacity: 0; 
    }
}
    </style>
</head>
<body>

    <div id="stage1" class="stage active" onclick="startShaking()">
        <div class="shaker" id="shakerObj"></div>
        <p class="hint">ï¼ˆé»æ“Šé›ªå…‹æ¯é–‹å§‹æ–èŒ¶ï¼‰</p>
    </div>

    <div id="stage2" class="stage" onclick="triggerSpill()">
        <div class="neon-cup">
            <div class="cup-logo">æ˜¥æ°´</div>
        </div>
        <p class="hint">ï¼ˆçå¥¶å¥½äº†ï¼é»æ“Šå“åšä¸€ä¸‹...ï¼‰</p>
    </div>

    <div id="stage3" class="stage">
    <div class="puddle">
        <div class="neon-cup spilled-cup">
            <div class="cup-logo">æ˜¥æ°´</div>
        </div>

        <div class="pearl" style="top:20%; left:30%;"></div>
        <div class="pearl" style="top:35%; left:15%;"></div>
        <div class="pearl" style="top:50%; left:25%;"></div>
        <div class="pearl" style="bottom:25%; right:30%;"></div>
        <div class="pearl" style="bottom:35%; right:15%;"></div>
        <div class="pearl" style="top:60%; right:35%;"></div>
        
        <div class="ice" style="top:25%; left:20%; --r: 15;"></div>
        <div class="ice" style="bottom:30%; left:35%; --r: -10;"></div>
        <div class="ice" style="top:45%; right:20%; --r: 30;"></div>
        <div class="ice" style="bottom:40%; right:25%; --r: -5;"></div>
            <div class="card">
                <p>å¤¥ä¼´å€‘ï¼š</p>
                <p>è¬è¬å¤§å®¶é€™ä¸€å€‹å¤šæœˆä¾†çš„ç…§é¡§ï¼Œè®“æˆ‘å¾æ–°æ‰‹æ…¢æ…¢ç†Ÿæ‚‰å·¥ä½œã€‚</p>
                <p>ä¸­é–“é›–ç„¶æœ‰å¤±èª¤ï¼Œä½†å¾ˆæ„Ÿè¬å¤§å®¶éƒ½é¡˜æ„è€å¿ƒæ•™æˆ‘ï¼ŒçœŸçš„è®“äººè¦ºå¾—å¾ˆæº«æš–ã€‚</p>
                <p><b>æ–°çš„ä¸€å¹´ç¥å¤§å®¶å¹³å®‰é †å¿ƒã€å·¥ä½œé †åˆ©ï¼Œä»¥åŠæœ€é‡è¦çš„......</b></p>
            </div>
        </div>
        <div class="rag" id="rag" onclick="startWiping()">æŠ¹å¸ƒ</div>
        <p class="hint" style="position:absolute; bottom:5%;">ï¼ˆé»æ“ŠæŠ¹å¸ƒæ”¶æ‹¾æ¡Œé¢ï¼‰</p>
    </div>

    <div id="stage4" class="stage">
        <h1 id="finalText" class="calligraphy">æ–°å¹´å¿«æ¨‚!</h1>
        <p style="color:#5d4037; margin-top:20px; font-weight:bold;">å»·å»· æ•¬ä¸Š</p>
    </div>

    <script>
        function startShaking() {
            const shaker = document.getElementById('shakerObj');
            shaker.classList.add('shake-anim');
            setTimeout(() => {
                document.getElementById('stage1').classList.remove('active');
                document.getElementById('stage2').classList.add('active');
            }, 1500);
        }

       function triggerSpill() {
    // 1. å…ˆè®“éœ“è™¹æ¯æ¶ˆå¤±
    const stage2 = document.getElementById('stage2');
    stage2.style.transition = 'opacity 0.3s ease';
    stage2.style.opacity = '0';

    setTimeout(() => {
        // 2. åˆ‡æ›èƒŒæ™¯é¡è‰²å’Œéšæ®µ
        document.body.classList.add('spill-bg');
        stage2.classList.remove('active');
        document.getElementById('stage3').classList.add('active');
    }, 300);
}

     function startWiping() {
    const rag = document.getElementById('rag');
    // ç²å–èŒ¶æ¹¯å®¹å™¨ (å®ƒåŒ…å«äº†å¡ç‰‡ã€æ¯å­ã€çç å†°å¡Š)
    const puddleContainer = document.querySelector('.puddle');
    
    // 1. è®“æŠ¹å¸ƒé–‹å§‹åŸ·è¡Œã€Œä¾†å›æ“¦æ‹­ã€çš„å‹•ç•«
    rag.classList.add('scrubbing');

    // 2. åŒæ™‚è®“èŒ¶æ¹¯é–‹å§‹åŸ·è¡Œã€Œç¸®å°æ·¡å‡ºã€çš„å‹•ç•«
    // ä½¿ç”¨ setTimeout ç¨å¾®å»¶é²ä¸€é»é»ï¼Œè®“æŠ¹å¸ƒå…ˆå‹•èµ·ä¾†æ„Ÿè¦ºæ›´è‡ªç„¶
    setTimeout(() => {
        puddleContainer.classList.add('wiping-out');
    }, 100);
    
    // 3. ç­‰å¾…å‹•ç•«çµæŸ (1.5ç§’å¾Œ)ï¼Œåˆ‡æ›åˆ°æœ€å¾Œçš„ç¥ç¦ç•«é¢
    setTimeout(() => {
        document.getElementById('stage3').classList.remove('active');
        document.getElementById('stage4').classList.add('active');
        document.getElementById('finalText').classList.add('fly-in');
    }, 1600); // è¨­å®š 1.6 ç§’ï¼Œç¢ºä¿å‹•ç•«å®Œå…¨è·‘å®Œ
}
    </script>
</body>
</html>